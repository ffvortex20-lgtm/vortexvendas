<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vortex Bot | Checkout</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-[#080808] text-white flex items-center justify-center min-h-screen p-4">

    <div class="max-w-md w-full bg-zinc-900 border border-zinc-800 rounded-[2.5rem] overflow-hidden shadow-2xl animate-fade-in">
        <div id="midia" class="w-full h-52 bg-zinc-800 relative"></div>
        
        <div class="p-8">
            <div class="flex justify-between items-start mb-4">
                <h1 id="vN" class="text-2xl font-black italic uppercase text-red-600"></h1>
                <span id="vP" class="bg-red-600/20 text-red-500 px-3 py-1 rounded-lg font-bold text-sm"></span>
            </div>
            
            <p id="vD" class="text-zinc-500 text-xs mb-8 leading-relaxed"></p>

            <div id="etapa1" class="space-y-3">
                <p class="text-[10px] font-bold text-zinc-600 uppercase mb-2">Selecione o M√©todo de Pagamento</p>
                <button onclick="irParaPagamento('pix')" class="w-full bg-zinc-800 hover:bg-zinc-700 p-4 rounded-2xl flex items-center gap-4 transition border border-zinc-700">
                    <span class="text-2xl">‚ö°</span> <div class="text-left"><p class="font-bold text-sm">AG PAY (Pix Direto)</p><p class="text-[10px] text-zinc-500">Aprova√ß√£o em at√© 5 minutos</p></div>
                </button>
                <button onclick="irParaPagamento('mp')" class="w-full bg-zinc-800 hover:bg-zinc-700 p-4 rounded-2xl flex items-center gap-4 transition border border-zinc-700">
                    <span class="text-2xl">üí≥</span> <div class="text-left"><p class="font-bold text-sm">Mercado Pago</p><p class="text-[10px] text-zinc-500">Cart√£o ou Saldo MP</p></div>
                </button>
            </div>

            <div id="etapaPagamento" class="hidden text-center animate-pulse">
                <div class="bg-black p-6 rounded-3xl border border-zinc-800 mb-6">
                    <p class="text-xs text-zinc-500 mb-2 uppercase font-bold">Copie a Chave e Pague o Valor Exato</p>
                    <input type="text" id="chaveFinal" readonly class="bg-transparent text-center text-red-500 font-mono text-sm w-full outline-none mb-4">
                    <button onclick="copiarChave()" class="text-[10px] bg-white text-black px-4 py-2 rounded-lg font-black uppercase">Copiar Chave</button>
                </div>
                <button onclick="verificar()" class="w-full bg-green-600 py-5 rounded-2xl font-black uppercase shadow-lg shadow-green-600/20">J√° paguei, verificar agora</button>
            </div>
        </div>
    </div>

    <script>
        const u = new URLSearchParams(window.location.search);
        const midiaUrl = u.get('i');
        
        // Render M√≠dia
        const m = document.getElementById('midia');
        if(midiaUrl.includes('youtu')) {
            let id = midiaUrl.split('v=')[1] || midiaUrl.split('/').pop();
            m.innerHTML = `<iframe class="w-full h-full" src="https://www.youtube.com/embed/${id}"></iframe>`;
        } else {
            m.innerHTML = `<img src="${midiaUrl}" class="w-full h-full object-cover">`;
        }

        document.getElementById('vN').innerText = u.get('n');
        document.getElementById('vP').innerText = "R$ " + u.get('p');
        document.getElementById('vD').innerText = u.get('d');

        function irParaPagamento(tipo) {
            document.getElementById('etapa1').classList.add('hidden');
            document.getElementById('etapaPagamento').classList.remove('hidden');
            document.getElementById('chaveFinal').value = tipo === 'pix' ? u.get('pix') : u.get('mp');
        }

        function copiarChave() {
            navigator.clipboard.writeText(document.getElementById('chaveFinal').value);
            alert("Chave Copiada!");
        }

        function verificar() {
            const idCompravante = Math.random().toString(36).substr(2, 8).toUpperCase();
            const msg = `‚ö†Ô∏è *VERIFICA√á√ÉO DE PAGAMENTO*\n\n` +
                        `üë§ *CLIENTE AGUARDANDO*\n` +
                        `üì¶ *PRODUTO:* ${u.get('n')}\n` +
                        `üí∞ *VALOR:* R$ ${u.get('p')}\n` +
                        `üÜî *ID DO PEDIDO:* #${idCompravante}\n\n` +
                        `_Estou enviando o comprovante abaixo para libera√ß√£o imediata._`;
            
            // Abre o WhatsApp para o cliente enviar o print (Sistema de Verifica√ß√£o Humana)
            window.location.href = `https://wa.me/55SEUNUMERO?text=${encodeURIComponent(msg)}`;
        }
    </script>
</body>
</html>
